# issue GitHub Actions「関数コールグラフhtmlビジュアライズ生成」を共通ワークフロー化する #16
[issues #16](https://github.com/cat2151/tonejs-mml-to-json/issues/16)

# 状況
- github-actionsリポジトリの共通ワークフローを呼び出すようにした
- testをする。日次バッチが流れるまで待ち、結果logを確認する
  - test case
    - 24時間以内にuser commitがあった場合、
      - call graphが生成されたことがlogで確認できること
        - ※生成内容が変化ないためcommitされない可能性がある。
          - それもlogで確認できればOK

# 結果
- jobがエラー終了していた
- どうする？
  - logを可視化する
    - https://github.com/cat2151/tonejs-mml-to-json/actions/runs/18174089969/job/51735711014
  - agentに投げる
- github-actionsリポジトリ側で、logの動作を確認した、OK
- どうする？
  - tonejs-mml-to-json側で日次バッチを流し、エラーをlogで可視化する

# 結果
- 判明した。対象source指定がmain.jsだけ、つまりgithub-actions共通ワークフロー側のデフォルトのままだった
- どうする？
  - まず対象sourceのlistをここに可視化する
    - main.js, mml2json.js, のみである
  - 次に、`.github_automation/callgraph/config/my.json` に、それを書く。
    - 書式は、共通ワークフロー側のexample.jsonを参考にする
  - 恒久対策の候補は：
    - documentsの整備。共通ワークフロー側に、なんらかのdocumentsを残す。
